{% load i18n %}
{% if news %}
    {% for news_object in news %}
        {% include "shared_partials/news_card.html" with news=news_object %}
    {% endfor %}
{% elif news_initial_render %}
    <p class="text-center text-muted small py-3 mb-0">{% trans "No updates yet." %}</p>
{% endif %}
{% if news_next_cursor %}
    <div class="news-load-trigger"
         hx-get="{% url 'news:feed' %}?cursor={{ news_next_cursor }}"
         hx-trigger="revealed"
         hx-swap="outerHTML"
         hx-indicator="#news-loading-indicator">
        <div id="news-loading-indicator"
             class="news-loading-indicator htmx-indicator"
             aria-hidden="true">
            {% for _ in "123" %}
                <div class="timeline-event">
                    <div class="timeline-card timeline-card-placeholder">
                        <div class="placeholder-glow mb-2">
                            <span class="placeholder col-3"></span>
                        </div>
                        <div class="placeholder-glow mb-1">
                            <span class="placeholder col-8"></span>
                        </div>
                        <div class="placeholder-glow">
                            <span class="placeholder col-10"></span>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
{% elif news or not news_initial_render %}
    <div class="news-feed-end text-center text-muted small py-4">{% trans "You are all caught up." %}</div>
{% endif %}
